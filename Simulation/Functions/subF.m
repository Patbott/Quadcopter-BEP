function [ f ] = subF( x,i )
pn = x(1);
pe = x(2);
h = x(3);
u = x(4);
v = x(5);
w = x(6);
phi = x(7);
theta = x(8);
psi = x(9);
p = x(10);
q = x(11);
r = x(12);

delta1 = i(1);
delta2 = i(2);
delta3 = i(3);
delta4 = i(4);

f = [pn - (v*(cos(phi)*sin(psi) - cos(psi)*sin(phi)*sin(theta)))/200 + (w*(sin(phi)*sin(psi) + cos(phi)*cos(psi)*sin(theta)))/200 + (u*cos(psi)*cos(theta))/200;...
pe + (v*(cos(phi)*cos(psi) + sin(phi)*sin(psi)*sin(theta)))/200 - (w*(cos(psi)*sin(phi) - cos(phi)*sin(psi)*sin(theta)))/200 + (u*cos(theta)*sin(psi))/200;...
h - (u*sin(theta))/200 + (w*cos(phi)*cos(theta))/200 + (v*cos(theta)*sin(phi))/200;...
u - (981*sin(theta))/20000 - (q*w)/200 + (r*v)/200;...
v + (981*cos(theta)*sin(phi))/20000 + (p*w)/200 - (r*u)/200;...
w - delta2/270 - delta3/270 - delta4/270 - delta1/270 + (981*cos(phi)*cos(theta))/20000 - (p*v)/200 + (q*u)/200;...
p/200 + phi + (r*cos(phi)*tan(theta))/200 + (q*sin(phi)*tan(theta))/200;...
theta + (q*cos(phi))/200 - (r*sin(phi))/200;...
psi + (r*cos(phi))/(200*cos(theta)) + (q*sin(phi))/(200*cos(theta));...
(147*delta1)/5300 - (147*delta2)/5300 - (147*delta3)/5300 + (147*delta4)/5300 + p + (43*q*r)/15900;...
(441*delta1)/21200 + (441*delta2)/21200 - (441*delta3)/21200 - (441*delta4)/21200 + q - (33*p*r)/42400;...
(5*delta1)/21 - (5*delta2)/21 + (5*delta3)/21 - (5*delta4)/21 + r - (53*p*q)/25200];
end